<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskFlow</title>

    <link rel="stylesheet" href="/pages/home/style.css"/>
    <script type="module" src="/pages/home/index.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="../../components/observer.js"></script>
    <script type="module" src="../../components/resizable/SidebarResizeObservable.js"></script>
    <script type="module" src="../../sidebar.js"></script>
    <script>
        const sidebarElement = document.getElementById("sidebar");

        if (sidebarElement) {
            const sidebarResizeObservable = new SidebarResizeObservable(sidebarElement);

            sidebarResizeObservable.addObserver((data) => { 
                console.log("Nova dimensão da sidebar:", data);
            });

            setTimeout(() => {
                sidebarElement.style.width = "400px";
            }, 2000);
        }
    </script>
</head>
<body>
    <div class="dialog-container show" id="loader">
        <svg class="circular-loader">
            <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10"></circle>
        </svg>
    </div>

    <div class="dialog-container closable" data-opacity="0.5" id="create-project">
        <form>
            <h3>Novo Projeto</h3>
            <div class="input-container">
                <input type="text" placeholder="" id="project-name">
                <label for="project-name">Nome</label>
            </div>
            <div class="input-container">
                <textarea placeholder="" rows="5" id="project-description"></textarea>
                <label for="project-description">Descrição</label>
            </div>
            <div class="input-container">
                <input type="submit" value="Criar" disabled/>
            </div>
        </form>
    </div>

    <div class="dialog-container closable" data-opacity="0.5" id="notice-list">
        <div>
            <h3>Notificações</h3>
            <ul>
                <li>
                    <img src="../assets/imgs/default_user_picture.jpg">
                    <div>
                        <h4>Nome projeto</h4>
                        <p>Usuário convidou você para um projeto</p>
                    </div>

                    <span class="material-symbols-outlined" id="confirm">check</span>
                    <span class="material-symbols-outlined" id="cancel">close</span>
                </li>
            </ul>
        </div>
    </div>

    <div class="dialog-container closable" data-opacity="0.5" id="project-info">
        <div>
            <h3>Project name</h3>
            <h4>24/11/2024</h4>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Iste corporis quas voluptatum laudantium illum sed eaque. Fuga nihil voluptate inventore nisi exercitationem ipsam totam velit! Facere aliquid id nulla odio?</p>
        </div>
    </div>

    <div class="dialog-container closable" data-opacity="0.5" id="delete-project">
        <div>
            <h3>Deletar projeto</h3>
            <h4>Você deseja deletar o projeto? Isso não pode ser desfeito!</h4>
            <input type="submit" class="negative" value="Deletar">
        </div>
    </div>

    <div class="dialog-container closable" id="dialog-profile">
        <form class="dialog">
            <h2>Meu perfil</h2> <hr>
            <div class="profile-container"> <br>
                <div class="personal">
                    <input type="file" id="picture-input" accept="image/*" style="display: none;">
                    <img class="pfp" alt="User Photo" src="../../assets/imgs/default_user_picture.jpg">
                    <div class="input-container">
                        <input type="text" placeholder="" id="name">
                        <label for="name"><span class="material-symbols-outlined">person</span>Nome</label>
                    </div>
                    
                </div> <br>
                <input type="submit" id="confirmar" value="Salvar mundaças">
                <h2>Segurança da conta</h2> <hr>
                <div class="security">
                    <h3>Email</h3>
                    <p id="email">emailExample@email.com</p>
                
                    <h3>Senha</h3>
                    <p>Redefina uma nova senha para acessar sua conta TaskFlow</p>
                    <input type="submit" id="redefinir-senha" value="Redefinir senha">
                </div>
                <h2>Suporte</h2> <hr>
                <div class="support">
                    <h3 id="delete-account">Excluir minha conta</h3>
                    <p>Exclua permanentemente sua conta TaskFlow</p>
                </div>
            </div>
        </form>
    </div>

    <div class="resizable-container" id="resizable">
        <div class="resize-child sidebar" data-min="0.2">
            <h1>Task<span>Flow</span></h1>

            <p class="option" id="create"><span class="material-symbols-outlined">add</span>Adicionar</p>
            <p class="option" id="notification"><span class="material-symbols-outlined">mail</span>Notificações</p>
    
            <span class="fill"></span>
            <p class="option" id="exit"><span class="material-symbols-outlined">logout</span>Sair</p>
        </div>

        <div class="resize-handle"></div>

        <main class="resize-child" data-min="0.4">
            <header>
                <div class="input-container search">
                    <input type="text" id="search" placeholder="Pesquisar projeto..."/>
                    <span class="material-symbols-outlined search">search</span>
                    <span class="material-symbols-outlined close" id="close-search">close</span>
                </div>

                <div class="profile">
                    <img id="userpicture" alt="User picture" src="../assets/imgs/default_user_picture.jpg">
                    <p id="username">Nome</p>
                </div>
            </header>

            <section id="projects-section">
                <p>Nenhum projeto foi criado ainda.</p>
                <div>
                    <h2>Projetos</h2>
                    <ul id="projects-list"></ul>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
